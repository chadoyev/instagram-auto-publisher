# üîÑ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

–≠—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —É–∂–µ –∑–∞–ø—É—Å—Ç–∏–ª –±–æ—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ —Å–æ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–µ–π (—Å `USER botuser` –≤ Dockerfile).

---

## üìã –®–∞–≥–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### 1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É

```bash
ssh –≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å@–≤–∞—à_—Å–µ—Ä–≤–µ—Ä
```

### 2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd /–ø—É—Ç—å/–∫/instagram-auto-publisher
# –ù–∞–ø—Ä–∏–º–µ—Ä: cd ~/instagram-auto-publisher
```

### 3. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ docker-compose
docker-compose down

# –ò–ª–∏ –µ—Å–ª–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤—Ä—É—á–Ω—É—é
docker stop instagram-auto-publisher
docker rm instagram-auto-publisher
```

### 4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –≤–∞–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ —Å–µ—Å—Å–∏–∏
cp db.db db_backup_$(date +%Y%m%d).db
cp authorize.json authorize_backup_$(date +%Y%m%d).json

# –ò–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª–Ω—ã–π –±—ç–∫–∞–ø
tar -czf backup_$(date +%Y%m%d).tar.gz db.db authorize.json storys/ video_posts/ photo_posts/ albums_posts/ users_content/
```

### 5. –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–∑ git

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â—É—é –≤–µ—Ç–∫—É
git branch

# –ü–æ–ª—É—á–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git fetch origin

# –ï—Å–ª–∏ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, .env), —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö
git stash

# –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥
git pull origin main

# –í–µ—Ä–Ω–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ
git stash pop
```

### 6. –î–∞–π—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–æ–≤—ã–º —Å–∫—Ä–∏–ø—Ç–∞–º

```bash
chmod +x start.sh stop.sh logs.sh
```

### 7. –£–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–π Docker –æ–±—Ä–∞–∑ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –≠—Ç–æ –∑–∞—Å—Ç–∞–≤–∏—Ç –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ —Å –Ω—É–ª—è
docker-compose down --rmi local

# –ò–ª–∏ —É–¥–∞–ª–∏—Ç–µ –≤—Å–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –æ–±—Ä–∞–∑—ã
docker image prune -a
```

### 8. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π

```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./start.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
export UID=$(id -u)
export GID=$(id -g)
docker-compose build --no-cache
docker-compose up -d
```

### 9. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ª–æ–≥–∏
./logs.sh

# –ò–ª–∏
docker-compose logs -f

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker-compose ps
```

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤ –ª–æ–≥–∞—Ö:

```
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞
‚úÖ –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –≥–æ—Ç–æ–≤—ã
‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∞
‚úÖ –°–∏—Å—Ç–µ–º–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω–∞!
```

**–ù–ï –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–∫–∏:**
```
‚ùå PermissionError: [Errno 13] Permission denied: 'storys/video'
```

---

## üîß –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏

### –ü—Ä–æ–±–ª–µ–º–∞: Git –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ
git status

# –ï—Å–ª–∏ —ç—Ç–æ .env - –æ–Ω –≤ .gitignore, –º–æ–∂–Ω–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
git checkout .env

# –ò–ª–∏ —Å–±—Ä–æ—Å—å—Ç–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã
git checkout --theirs —Ñ–∞–π–ª_–≤_–∫–æ–Ω—Ñ–ª–∏–∫—Ç–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: –°—Ç–∞—Ä—ã–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è

```bash
# –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ
docker-compose kill

# –£–¥–∞–ª–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose rm -f
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ
df -h

# –û—á–∏—Å—Ç–∏—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ Docker –¥–∞–Ω–Ω—ã–µ
docker system prune -a --volumes

# ‚ö†Ô∏è –í–ù–ò–ú–ê–ù–ò–ï: —ç—Ç–æ —É–¥–∞–ª–∏—Ç –í–°–ï –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ Docker
```

### –ü—Ä–æ–±–ª–µ–º–∞: –í—Å—ë –µ—â—ë –æ—à–∏–±–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ UID —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
echo "UID: $(id -u), GID: $(id -g)"

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è docker-compose.yml
grep "user:" docker-compose.yml

# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: user: "${UID:-1000}:${GID:-1000}"

# –ï—Å–ª–∏ –Ω–µ—Ç - –æ–±–Ω–æ–≤–∏—Ç–µ –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ
docker-compose down
docker-compose build --no-cache
docker-compose up -d
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ —Å–µ—Å—Å–∏—è –ø–æ—Ç–µ—Ä—è–Ω—ã

```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏–∑ –±—ç–∫–∞–ø–∞
cp db_backup_YYYYMMDD.db db.db
cp authorize_backup_YYYYMMDD.json authorize.json

# –ò–ª–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤—Å—ë –∏–∑ –∞—Ä—Ö–∏–≤–∞
tar -xzf backup_YYYYMMDD.tar.gz
```

---

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ (–≤—Å—ë –≤ –æ–¥–Ω–æ–º)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ —Å–¥–µ–ª–∞—Ç—å –≤—Å—ë –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∑–∞–ø—É—Å–∫
docker-compose down && \
git stash && \
git pull origin main && \
git stash pop && \
chmod +x *.sh && \
./start.sh
```

---

## üéØ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–∏

### Dockerfile
- ‚ùå –£–±—Ä–∞–Ω–æ: `USER botuser` - –≤—ã–∑—ã–≤–∞–ª–æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç –ø—Ä–∞–≤
- ‚úÖ –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è botuser

### docker-compose.yml
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ: `user: "${UID:-1000}:${GID:-1000}"` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ—Ç –≤–∞—à–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ `start.sh` - —É–º–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞ —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º UID/GID
- ‚úÖ `stop.sh` - —Å–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
- ‚úÖ `logs.sh` - –ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
- ‚úÖ `DOCKER_SETUP.md` - –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `UPDATE_GUIDE.md` - —ç—Ç–∞ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs --tail=50`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `docker-compose ps`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª: `cat .env | grep -v "^#" | grep -v "^$"`
4. –°–æ–∑–¥–∞–π—Ç–µ issue –Ω–∞ GitHub —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

## ‚ú® –°–æ–≤–µ—Ç

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ä–∞–±–æ—Ç—ã, –º–æ–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –±—ç–∫–∞–ø—ã:

```bash
# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!)
rm -f db_backup_*.db
rm -f authorize_backup_*.json
rm -f backup_*.tar.gz
```

**–ù–æ –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω —Å–≤–µ–∂–∏–π –±—ç–∫–∞–ø –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π! üòâ**

